<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <link rel="stylesheet" href="style.css"/>
        <title>Calculator</title>
    </head>
    <body>
        <div class="container">
            <div class="calculator">
                <form onsubmit="return false;">
                <div class="display">
                    <input type="text" id="display">
                </div>
                <div>
                    <input type="button" value="C" onclick="display.value='' " class="operator"> 
                    <input type="button" value="/" onclick="display.value+='/' "class="operator" >
                    <input type="button" value="*" onclick="display.value +='*' "class="operator">
                    <input type="button" value="DE" onclick="display.value=display.value.toString().slice(0,-1)"class="operator" >
                </div>
                <div>
                      <input type="button" value="7"onclick="display.value +='7' ">
                      <input type="button" value="8"onclick="display.value +='8' ">
                      <input type="button" value="9" onclick="display.value +='9' ">
                      <input type="button" value="."onclick="display.value +='.' ">
                      
              </div>
              <div>
                  <input type="button" value="4"onclick="display.value +='4' ">
                  <input type="button" value="5"onclick="display.value +='5' ">
                  <input type="button" value="6"onclick="display.value +='6' ">
                  <input type="button" value="+"onclick="display.value +='+' "class="operator" >
              </div>
              <div>
                <input type="button" value="1" onclick="display.value+='1' ">
                <input type="button" value="2" onclick="display.value+='2' ">
                <input type="button" value="3" onclick="display.value+='3' ">
                <input type="button" value="-"onclick="display.value +='-' " class="operator">
                
              </div>
              <div>
                <input type="button" value="00"onclick="display.value +='00' ">
                <input type="button" value="0"onclick="display.value +='0' ">
                <input type="button" value="=" class="equal operator" onclick="calculate()">

                
              </div>
                </form>
                <div class="history">
            <h3>Calculation history</h3>
            <ul id="historyList"></ul>
        </div>
            </div>
        </div>

        

        <script>
            let history=[];
            function calculate(){
                let display = document.getElementById("display");
                let expression = display.value;
                if (expression === "" )return;
                let result;
                try{
                    result = eval(expression);
                } catch {
                    result = "Error";
                }

                //store calculation
                let entry =`${expression} = ${result}`;
                history.push(entry);
                
                //show result
                display.value = result;

                //update history on screen
                showHistory();

            }
            function showHistory(){
                let list = document.getElementById("historyList");
                list.innerHTML ="";

                history.forEach(item=> {
                    let li = document.createElement("li");
                    li.textContent = item;
                    list.appendChild(li);
                });
            }
        </script>
    </body>
</html>    